document.addEventListener('DOMContentLoaded', function() {
    // Form validation for contact form
    const contactForm = document.getElementById('contactForm');
    if (contactForm) {
        contactForm.addEventListener('submit', function(event) {
            let isValid = true;
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            if (name.trim() === '') {
                document.getElementById('name-error').textContent = 'Name is required';
                isValid = false;
            } else {
                document.getElementById('name-error').textContent = '';
            }

            if (email.trim() === '') {
                document.getElementById('email-error').textContent = 'Email is required';
                isValid = false;
            } else if (!email.includes('@')) {
                document.getElementById('email-error').textContent = 'Enter a valid email';
                isValid = false;
            } else {
                document.getElementById('email-error').textContent = '';
            }

            if (subject.trim() === '') {
                document.getElementById('subject-error').textContent = 'Subject is required';
                isValid = false;
            } else {
                document.getElementById('subject-error').textContent = '';
            }

            if (message.trim() === '') {
                document.getElementById('message-error').textContent = 'Message is required';
                isValid = false;
            } else {
                document.getElementById('message-error').textContent = '';
            }

            if (!isValid) {
                event.preventDefault();
            }
        });
    }

    // Lazy load images
    if ('loading' in HTMLImageElement.prototype) {
        const images = document.querySelectorAll('img[loading="lazy"]');
        images.forEach(img => {
            img.src = img.dataset.src;
        });
    } else {
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';
        document.body.appendChild(script);
    }
});